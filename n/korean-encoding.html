<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-4dcb7f9b52833aba.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aea6920bd27938ca.js" defer=""></script><script src="/_next/static/chunks/664-8af8765c6fed5950.js" defer=""></script><script src="/_next/static/chunks/pages/n/%5B%5B...slug%5D%5D-bdd4a78633ed557a.js" defer=""></script><script src="/_next/static/GlTOjBOhO6xWONgruXGi2/_buildManifest.js" defer=""></script><script src="/_next/static/GlTOjBOhO6xWONgruXGi2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav><div><a href="/">하나씩</a></div><div><a href="/n">index</a><a href="/tags">주제별</a></div></nav><div><main><article><header><h1>한글 인코딩</h1></header><p><img src="/assets/hanassig-notes-on-macos-finder.png" alt=""/></p>
<p><img src="/assets/nfd-on-helix.png" alt=""/></p>
<p>파인더에서는 멀쩡한 파일 이름이 helix 에디터에서 망가지는 이유를 알아보자.</p>
<h2>동치</h2>
<p><a href="https://unicode.org/reports/tr15/#Canon_Compat_Equivalence">UNICODE NORMALIZATION FORMS - 1.1 Canonical and Compatibility Equivalence</a></p>
<p>유니코드에서 &quot;같음&quot;에 대한 두 가지 정의가 있다. 정준 동치와 호환 동치다:</p>
<p>두 문자 시퀀스가 동일한 모양과 의미와 기능을 지닐 경우 &quot;같다&quot;고 할 수 있다.
이를 정준 동치(<em>canonical equivalence</em>)라고 한다.</p>
<p>예를 들어 <code>가</code>와 <code>ᄀ+ᅡ</code>는, 유니코드는 <code>U+AC00</code>, <code>U+1100, U+1161</code>로 서로 다르지만
이를 읽는 이는 동일하게 &#x27;가&#x27;로 읽을 것이다. 따라서 프로그램도 이를 동일한
글자로 취급하고 다뤄야 한다.</p>
<p>호환 동치(<em>compatibility equivalence</em>)는 이보다는 큰 범위의 &quot;같음&quot;이다.
모양이나 기능이 조금 다르더라도 비슷한 의미를 지녔으면 같은 글자로 취급한다.</p>
<p>예를 들어 <code>𝑓</code><a href="https://www.compart.com/en/unicode/U+1D453">^1</a>는 <code>f</code>와 모양이 다르므로 표준 동치로는 서로 다른 문자이다.
그러나 두 문자 모두 <code>f</code>를 의미하므로 호환 동치로는 같은 문자로 취급하고 다룬다.</p>
<p>구글 검색은 문자열을 호환 동치하기 때문에 <code>𝑓</code>를 검색하여도 <code>f</code>를 검색한 것과
결과가 같다.</p>
<p><img src="/assets/search-math-f-in-google.png" alt=""/></p>
<h2>정규화</h2>
<p><a href="https://unicode.org/reports/tr15/#Norm_Forms">UNICODE NORMALIZATION FORMS - 1.2 Normalization Forms</a></p>
<p>동치의 개념에서 보았듯, 유니코드에서는 같은 의미의 문자라도 여러 방법으로
표현할 수 있다. 따라서 이를 통일할 방법이 필요하며 이를
정규화(<em>normalization</em>)라고 부른다.</p>
<p>정규화에는 네 가지 방법이 있다.</p>
<ul>
<li>NFD: 정준 분해</li>
<li>NFC: 정준 분해 후 정준 결합</li>
<li>NFKD: 호환 분해</li>
<li>NFKC: 호환 분해 후 정준 결합</li>
</ul>
<p>대부분의 한글 표기는 호환 동치와는 무관하므로 정준 분해에 대해서만 보면 아래와
같다:</p>
<pre><code>가(U+AC00)를 정규화하면...
NFD: → ᄀ(U+1100) + ᅡ(U+1161)
NFC: → 가(U+AC00)


ᄀ(U+1100) + ᅡ(U+1161)를 정규화하면...
NFD: → ᄀ(U+1100) + ᅡ(U+1161)
NFC: → 가(U+AC00)
</code></pre>
<h3>뭐가 맞는가</h3>
<p>https://unicode.org/reports/tr29/#Standard_Korean_Syllables</p>
<h3>macOS에서</h3>
<pre><code class="language-bash">convmv -r -f utf-8 -t utf-8 --nfc . --notest
</code></pre>
<h3>참고</h3>
<ul>
<li><a href="https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EB%93%B1%EA%B0%80%EC%84%B1">유니코드 등가성</a></li>
<li><a href="https://unicode.org/reports/tr15/">Unicode® Standard Annex #15</a></li>
</ul></article></main></div><footer><ul><li><a href="https://github.com/nyeong/hanassig">Repo</a></li><li>안녕 ©️ <a href="https://github.com/nyeong/hanassig/blob/main/LICENSE">CC BY-SA</a></li></ul></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"title":"한글 인코딩","description":"파인더에서 괜찮던 한글이 망가지는 이유","date":"2022-02-26T00:00:00.000Z","tags":null,"body":{"raw":"\n![](/assets/hanassig-notes-on-macos-finder.png)\n\n![](/assets/nfd-on-helix.png)\n\n파인더에서는 멀쩡한 파일 이름이 helix 에디터에서 망가지는 이유를 알아보자.\n\n## 동치\n\n[UNICODE NORMALIZATION FORMS - 1.1 Canonical and Compatibility Equivalence](https://unicode.org/reports/tr15/#Canon_Compat_Equivalence)\n\n유니코드에서 \"같음\"에 대한 두 가지 정의가 있다. 정준 동치와 호환 동치다:\n\n두 문자 시퀀스가 동일한 모양과 의미와 기능을 지닐 경우 \"같다\"고 할 수 있다.\n이를 정준 동치(*canonical equivalence*)라고 한다.\n\n예를 들어 `가`와 `ᄀ+ᅡ`는, 유니코드는 `U+AC00`, `U+1100, U+1161`로 서로 다르지만\n이를 읽는 이는 동일하게 '가'로 읽을 것이다. 따라서 프로그램도 이를 동일한\n글자로 취급하고 다뤄야 한다.\n\n호환 동치(*compatibility equivalence*)는 이보다는 큰 범위의 \"같음\"이다.\n모양이나 기능이 조금 다르더라도 비슷한 의미를 지녔으면 같은 글자로 취급한다.\n\n예를 들어 `𝑓`[^1]는 `f`와 모양이 다르므로 표준 동치로는 서로 다른 문자이다.\n그러나 두 문자 모두 `f`를 의미하므로 호환 동치로는 같은 문자로 취급하고 다룬다.\n\n구글 검색은 문자열을 호환 동치하기 때문에 `𝑓`를 검색하여도 `f`를 검색한 것과\n결과가 같다.\n\n![](/assets/search-math-f-in-google.png)\n\n\n[^1]: https://www.compart.com/en/unicode/U+1D453\n\n\n\n## 정규화\n\n[UNICODE NORMALIZATION FORMS - 1.2 Normalization Forms](https://unicode.org/reports/tr15/#Norm_Forms)\n\n동치의 개념에서 보았듯, 유니코드에서는 같은 의미의 문자라도 여러 방법으로\n표현할 수 있다. 따라서 이를 통일할 방법이 필요하며 이를\n정규화(*normalization*)라고 부른다.\n\n정규화에는 네 가지 방법이 있다.\n\n- NFD: 정준 분해\n- NFC: 정준 분해 후 정준 결합\n- NFKD: 호환 분해\n- NFKC: 호환 분해 후 정준 결합\n\n대부분의 한글 표기는 호환 동치와는 무관하므로 정준 분해에 대해서만 보면 아래와\n같다:\n\n```\n가(U+AC00)를 정규화하면...\nNFD: → ᄀ(U+1100) + ᅡ(U+1161)\nNFC: → 가(U+AC00)\n\n\nᄀ(U+1100) + ᅡ(U+1161)를 정규화하면...\nNFD: → ᄀ(U+1100) + ᅡ(U+1161)\nNFC: → 가(U+AC00)\n```\n\n### 뭐가 맞는가\n\nhttps://unicode.org/reports/tr29/#Standard_Korean_Syllables\n\n### macOS에서\n\n```bash\nconvmv -r -f utf-8 -t utf-8 --nfc . --notest\n```\n\n### 참고\n\n- [유니코드 등가성](https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EB%93%B1%EA%B0%80%EC%84%B1)\n- [Unicode® Standard Annex #15](https://unicode.org/reports/tr15/)\n","code":"var Component=(()=\u003e{var s=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var C=(r,n)=\u003e()=\u003e(n||r((n={exports:{}}).exports,n),n.exports),f=(r,n)=\u003e{for(var i in n)l(r,i,{get:n[i],enumerable:!0})},h=(r,n,i,d)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let c of m(n))!g.call(r,c)\u0026\u0026c!==i\u0026\u0026l(r,c,{get:()=\u003en[c],enumerable:!(d=p(n,c))||d.enumerable});return r};var N=(r,n,i)=\u003e(i=r!=null?s(u(r)):{},h(n||!r||!r.__esModule?l(i,\"default\",{value:r,enumerable:!0}):i,r)),U=r=\u003eh(l({},\"__esModule\",{value:!0}),r);var o=C((E,t)=\u003e{t.exports=_jsx_runtime});var A={};f(A,{default:()=\u003ex,frontmatter:()=\u003eF});var e=N(o()),F={title:\"\\uD55C\\uAE00 \\uC778\\uCF54\\uB529\",description:\"\\uD30C\\uC778\\uB354\\uC5D0\\uC11C \\uAD1C\\uCC2E\\uB358 \\uD55C\\uAE00\\uC774 \\uB9DD\\uAC00\\uC9C0\\uB294 \\uC774\\uC720\",date:new Date(16458336e5),tags:null};function a(r){let n=Object.assign({p:\"p\",img:\"img\",h2:\"h2\",a:\"a\",em:\"em\",code:\"code\",ul:\"ul\",li:\"li\",pre:\"pre\",h3:\"h3\"},r.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/assets/hanassig-notes-on-macos-finder.png\",alt:\"\"})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/assets/nfd-on-helix.png\",alt:\"\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\uD30C\\uC778\\uB354\\uC5D0\\uC11C\\uB294 \\uBA40\\uCA61\\uD55C \\uD30C\\uC77C \\uC774\\uB984\\uC774 helix \\uC5D0\\uB514\\uD130\\uC5D0\\uC11C \\uB9DD\\uAC00\\uC9C0\\uB294 \\uC774\\uC720\\uB97C \\uC54C\\uC544\\uBCF4\\uC790.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"\\uB3D9\\uCE58\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://unicode.org/reports/tr15/#Canon_Compat_Equivalence\",children:\"UNICODE NORMALIZATION FORMS - 1.1 Canonical and Compatibility Equivalence\"})}),`\n`,(0,e.jsx)(n.p,{children:'\\uC720\\uB2C8\\uCF54\\uB4DC\\uC5D0\\uC11C \"\\uAC19\\uC74C\"\\uC5D0 \\uB300\\uD55C \\uB450 \\uAC00\\uC9C0 \\uC815\\uC758\\uAC00 \\uC788\\uB2E4. \\uC815\\uC900 \\uB3D9\\uCE58\\uC640 \\uD638\\uD658 \\uB3D9\\uCE58\\uB2E4:'}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uB450 \\uBB38\\uC790 \\uC2DC\\uD000\\uC2A4\\uAC00 \\uB3D9\\uC77C\\uD55C \\uBAA8\\uC591\\uACFC \\uC758\\uBBF8\\uC640 \\uAE30\\uB2A5\\uC744 \\uC9C0\\uB2D0 \\uACBD\\uC6B0 \"\\uAC19\\uB2E4\"\\uACE0 \\uD560 \\uC218 \\uC788\\uB2E4.\n\\uC774\\uB97C \\uC815\\uC900 \\uB3D9\\uCE58(`,(0,e.jsx)(n.em,{children:\"canonical equivalence\"}),\")\\uB77C\\uACE0 \\uD55C\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC608\\uB97C \\uB4E4\\uC5B4 \",(0,e.jsx)(n.code,{children:\"\\uAC00\"}),\"\\uC640 \",(0,e.jsx)(n.code,{children:\"\\u1100+\\u1161\"}),\"\\uB294, \\uC720\\uB2C8\\uCF54\\uB4DC\\uB294 \",(0,e.jsx)(n.code,{children:\"U+AC00\"}),\", \",(0,e.jsx)(n.code,{children:\"U+1100, U+1161\"}),`\\uB85C \\uC11C\\uB85C \\uB2E4\\uB974\\uC9C0\\uB9CC\n\\uC774\\uB97C \\uC77D\\uB294 \\uC774\\uB294 \\uB3D9\\uC77C\\uD558\\uAC8C '\\uAC00'\\uB85C \\uC77D\\uC744 \\uAC83\\uC774\\uB2E4. \\uB530\\uB77C\\uC11C \\uD504\\uB85C\\uADF8\\uB7A8\\uB3C4 \\uC774\\uB97C \\uB3D9\\uC77C\\uD55C\n\\uAE00\\uC790\\uB85C \\uCDE8\\uAE09\\uD558\\uACE0 \\uB2E4\\uB904\\uC57C \\uD55C\\uB2E4.`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uD638\\uD658 \\uB3D9\\uCE58(\",(0,e.jsx)(n.em,{children:\"compatibility equivalence\"}),`)\\uB294 \\uC774\\uBCF4\\uB2E4\\uB294 \\uD070 \\uBC94\\uC704\\uC758 \"\\uAC19\\uC74C\"\\uC774\\uB2E4.\n\\uBAA8\\uC591\\uC774\\uB098 \\uAE30\\uB2A5\\uC774 \\uC870\\uAE08 \\uB2E4\\uB974\\uB354\\uB77C\\uB3C4 \\uBE44\\uC2B7\\uD55C \\uC758\\uBBF8\\uB97C \\uC9C0\\uB154\\uC73C\\uBA74 \\uAC19\\uC740 \\uAE00\\uC790\\uB85C \\uCDE8\\uAE09\\uD55C\\uB2E4.`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC608\\uB97C \\uB4E4\\uC5B4 \",(0,e.jsx)(n.code,{children:\"\\u{1D453}\"}),(0,e.jsx)(n.a,{href:\"https://www.compart.com/en/unicode/U+1D453\",children:\"^1\"}),\"\\uB294 \",(0,e.jsx)(n.code,{children:\"f\"}),`\\uC640 \\uBAA8\\uC591\\uC774 \\uB2E4\\uB974\\uBBC0\\uB85C \\uD45C\\uC900 \\uB3D9\\uCE58\\uB85C\\uB294 \\uC11C\\uB85C \\uB2E4\\uB978 \\uBB38\\uC790\\uC774\\uB2E4.\n\\uADF8\\uB7EC\\uB098 \\uB450 \\uBB38\\uC790 \\uBAA8\\uB450 `,(0,e.jsx)(n.code,{children:\"f\"}),\"\\uB97C \\uC758\\uBBF8\\uD558\\uBBC0\\uB85C \\uD638\\uD658 \\uB3D9\\uCE58\\uB85C\\uB294 \\uAC19\\uC740 \\uBB38\\uC790\\uB85C \\uCDE8\\uAE09\\uD558\\uACE0 \\uB2E4\\uB8EC\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uAD6C\\uAE00 \\uAC80\\uC0C9\\uC740 \\uBB38\\uC790\\uC5F4\\uC744 \\uD638\\uD658 \\uB3D9\\uCE58\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \",(0,e.jsx)(n.code,{children:\"\\u{1D453}\"}),\"\\uB97C \\uAC80\\uC0C9\\uD558\\uC5EC\\uB3C4 \",(0,e.jsx)(n.code,{children:\"f\"}),`\\uB97C \\uAC80\\uC0C9\\uD55C \\uAC83\\uACFC\n\\uACB0\\uACFC\\uAC00 \\uAC19\\uB2E4.`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/assets/search-math-f-in-google.png\",alt:\"\"})}),`\n`,(0,e.jsx)(n.h2,{children:\"\\uC815\\uADDC\\uD654\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://unicode.org/reports/tr15/#Norm_Forms\",children:\"UNICODE NORMALIZATION FORMS - 1.2 Normalization Forms\"})}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uB3D9\\uCE58\\uC758 \\uAC1C\\uB150\\uC5D0\\uC11C \\uBCF4\\uC558\\uB4EF, \\uC720\\uB2C8\\uCF54\\uB4DC\\uC5D0\\uC11C\\uB294 \\uAC19\\uC740 \\uC758\\uBBF8\\uC758 \\uBB38\\uC790\\uB77C\\uB3C4 \\uC5EC\\uB7EC \\uBC29\\uBC95\\uC73C\\uB85C\n\\uD45C\\uD604\\uD560 \\uC218 \\uC788\\uB2E4. \\uB530\\uB77C\\uC11C \\uC774\\uB97C \\uD1B5\\uC77C\\uD560 \\uBC29\\uBC95\\uC774 \\uD544\\uC694\\uD558\\uBA70 \\uC774\\uB97C\n\\uC815\\uADDC\\uD654(`,(0,e.jsx)(n.em,{children:\"normalization\"}),\")\\uB77C\\uACE0 \\uBD80\\uB978\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC815\\uADDC\\uD654\\uC5D0\\uB294 \\uB124 \\uAC00\\uC9C0 \\uBC29\\uBC95\\uC774 \\uC788\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"NFD: \\uC815\\uC900 \\uBD84\\uD574\"}),`\n`,(0,e.jsx)(n.li,{children:\"NFC: \\uC815\\uC900 \\uBD84\\uD574 \\uD6C4 \\uC815\\uC900 \\uACB0\\uD569\"}),`\n`,(0,e.jsx)(n.li,{children:\"NFKD: \\uD638\\uD658 \\uBD84\\uD574\"}),`\n`,(0,e.jsx)(n.li,{children:\"NFKC: \\uD638\\uD658 \\uBD84\\uD574 \\uD6C4 \\uC815\\uC900 \\uACB0\\uD569\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:`\\uB300\\uBD80\\uBD84\\uC758 \\uD55C\\uAE00 \\uD45C\\uAE30\\uB294 \\uD638\\uD658 \\uB3D9\\uCE58\\uC640\\uB294 \\uBB34\\uAD00\\uD558\\uBBC0\\uB85C \\uC815\\uC900 \\uBD84\\uD574\\uC5D0 \\uB300\\uD574\\uC11C\\uB9CC \\uBCF4\\uBA74 \\uC544\\uB798\\uC640\n\\uAC19\\uB2E4:`}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{children:`\\uAC00(U+AC00)\\uB97C \\uC815\\uADDC\\uD654\\uD558\\uBA74...\nNFD: \\u2192 \\u1100(U+1100) + \\u1161(U+1161)\nNFC: \\u2192 \\uAC00(U+AC00)\n\n\n\\u1100(U+1100) + \\u1161(U+1161)\\uB97C \\uC815\\uADDC\\uD654\\uD558\\uBA74...\nNFD: \\u2192 \\u1100(U+1100) + \\u1161(U+1161)\nNFC: \\u2192 \\uAC00(U+AC00)\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\uBB50\\uAC00 \\uB9DE\\uB294\\uAC00\"}),`\n`,(0,e.jsx)(n.p,{children:\"https://unicode.org/reports/tr29/#Standard_Korean_Syllables\"}),`\n`,(0,e.jsx)(n.h3,{children:\"macOS\\uC5D0\\uC11C\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-bash\",children:`convmv -r -f utf-8 -t utf-8 --nfc . --notest\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\uCC38\\uACE0\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EB%93%B1%EA%B0%80%EC%84%B1\",children:\"\\uC720\\uB2C8\\uCF54\\uB4DC \\uB4F1\\uAC00\\uC131\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://unicode.org/reports/tr15/\",children:\"Unicode\\xAE Standard Annex #15\"})}),`\n`]})]})}function _(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,Object.assign({},r,{children:(0,e.jsx)(a,r)})):a(r)}var x=_;return U(A);})();\n;return Component;"},"_id":"korean-encoding.md","_raw":{"sourceFilePath":"korean-encoding.md","sourceFileName":"korean-encoding.md","sourceFileDir":".","contentType":"markdown","flattenedPath":"korean-encoding"},"type":"Note","slug":"korean-encoding"}},"__N_SSG":true},"page":"/n/[[...slug]]","query":{"slug":["korean-encoding"]},"buildId":"GlTOjBOhO6xWONgruXGi2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>