<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-4dcb7f9b52833aba.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aea6920bd27938ca.js" defer=""></script><script src="/_next/static/chunks/664-8af8765c6fed5950.js" defer=""></script><script src="/_next/static/chunks/pages/n/%5B%5B...slug%5D%5D-bdd4a78633ed557a.js" defer=""></script><script src="/_next/static/GlTOjBOhO6xWONgruXGi2/_buildManifest.js" defer=""></script><script src="/_next/static/GlTOjBOhO6xWONgruXGi2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav><div><a href="/">하나씩</a></div><div><a href="/n">index</a><a href="/tags">주제별</a></div></nav><div><main><article><header><h1>PostgreSQL</h1></header><p><a href="https://www.postgresql.org/">PostgreSQL: The world&#x27;s most advanced open source database</a></p>
<h2>설치</h2>
<p>세 가지 선택지가 있다:</p>
<ul>
<li>직접 빌드한다</li>
<li>컨테이너로 깐다</li>
<li>패키지 매니저로 깐다</li>
</ul>
<h3>macOS</h3>
<p>brew로 깔고 brew services로 돌린다. 버전명이 붙은 formula이기 때문에 아래처럼 PATH를 등록해주어야 <code>psql</code>이나 <code>createdb</code>와 같은 명령어를 쓸 수 있다.</p>
<pre><code>brew install postgresql@15
echo &#x27;export PATH=&quot;/opt/homebrew/opt/postgresql@15/bin:$PATH&quot;&#x27; &gt;&gt; ~/.zshrc
brew services start postgresql@15
</code></pre>
<h2>시작하기</h2>
<p>PostgreSQL은 클라이언트/서버 모델 데이터베이스이다. 클라이언트는 PostgreSQL에서
제공하는 프론트엔드가 될 수도 있고, 사용자가 개발하는 어플리케이션이 될 수도
있다.</p>
<p>PostgreSQL 서버 프로세스는 새 클라이언트가 접속할 때마다 프로세스를 포크한다.</p>
<figure><video src="/assets/postgresql-forks.webm"></video><figcaption>클라이언트가 열고 닫힘에 따라 켜지고 꺼지는 fork 프로세스</figcaption></figure>
<p>PostgreSQL 서버는 여러 데이터베이스를 관리할 수 있다.</p>
<ul>
<li><code>createdb [DB 이름]</code> -- DB 생성</li>
<li><code>dropdb [DB 이름]</code> -- DB 삭제</li>
<li><code>psql [DB 이름]</code> -- DB 접속</li>
</ul>
<h3>psql</h3>
<p>SQL이 아닌 명령어는 <code>\</code>으로 시작한다.</p>
<ul>
<li><code>\h</code> -- 도움말.</li>
<li><code>\i</code> -- 파일에서 SQL 읽어오기.</li>
<li><code>\d</code> -- 현재 DB의 모든 객체 나열.</li>
<li><code>\d [테이블 이름]</code> -- 테이블의 구조 확인. <code>\d+</code>는 더 자세한 정보가 나온다.</li>
<li><code>\d [함수 이름]</code> -- 함수의 인자, 반환형 등 확인.</li>
<li><code>\dt</code> -- 현재 DB의 모든 테이블 나열.</li>
<li><code>\dt [테이블 이름]</code> -- 테이블과 관련된 테이블 나열.</li>
</ul>
<h2>SQL</h2>
<figure><img src="/assets/table-row-column.png"/><figcaption>table, column, row</figcaption></figure>
<h3>테이블 만들고 지우기</h3>
<pre><code class="language-sql">CREATE TABLE cities (
  name       varchar(80),
  location   point  
);

DROP TABLE cities;
</code></pre>
<p>표준 SQL 타입: <code>int</code>, <code>smallint</code>, <code>real</code>, <code>double precision</code>, <code>char(n)</code>,
<code>varchar(n)</code>, <code>date</code>, <code>time</code>, <code>interval</code>, ...</p>
<p><code>point</code> 같은 비표준 타입도 있으며, 타입을 새로 만들 수도 있음<a href="https://www.postgresql.org/docs/current/sql-createtype.html">^1</a>.</p>
<p>그 외의 자료형은 <a href="https://www.postgresql.org/docs/current/datatype.html">문서 참고</a></p>
<p>TODO: 테이블 이름은 복수형이여야 하는가?
https://stackoverflow.com/questions/4702728/relational-table-naming-convention</p>
<h3>행 삽입하기</h3>
<ul>
<li>column 순서에 맞게 기입해야함.<!-- -->
<ul>
<li>혹은 column 순서를 명시할 수 있음.</li>
</ul>
</li>
<li>column은 nullable하다면 생략할 수 있음.</li>
<li>숫자가 아닌 값은 작은따옴표(<code>&#x27;</code>)로 감싸야함.</li>
</ul>
<pre><code class="language-sql">INSERT INTO cities VALUES (&#x27;Seoul&#x27;, &#x27;(37.5642, 127.0016)&#x27;);

INSERT INTO cities (name, location)
  VALUES (&#x27;Seoul&#x27;, &#x27;(37.5642, 127.0016)&#x27;);
</code></pre>
<h3>쿼리하기</h3>
<p><code>SELECT</code>로 테이블에서 값을 얻어올 수 있음. <code>*</code>로 모든 컬럼을 얻어올 수도 있다:</p>
<pre><code class="language-sql">SELECT name FROM cities;

SELECT * FROM cities;
</code></pre>
<p>가져온 필드로 연산을 할 수도 있다:</p>
<pre><code class="language-sql">SELECT city, (temp_hi + temp_lo) / 2 AS temp_avg, FROM weather;
</code></pre>
<p><code>WHERE</code>로 가져올 테이블의 조건을 명시하거나, 가져온 데이터를 정렬할 수 있다:</p>
<pre><code class="language-sql">SELECT * FROM weather
  WHERE city = &#x27;Seoul&#x27;
  ORDER BY city;
</code></pre>
<p>중복된 행은 빼고 가져올 수 있다:</p>
<pre><code class="language-sql">SELECT DISTINCT city FROM weather;
</code></pre>
<h3>조인</h3>
<p>여러 테이블의 정보를 연관지어 하나의 결과를 만드는 것을 조인이라고 한다.</p>
<ul>
<li>inner join: 두 테이블에서 특정 값이 일치하는 데이터만 찾는다.</li>
<li>outer join: 일치하지 않는 데이터도 가져온다.<!-- -->
<ul>
<li>left outer join: 왼쪽 테이블에 오른쪽 테이블을 결합한다.</li>
<li>rigjt outer join: 왼쪽 테이블을 오른쪽 테이블에 결합한다.</li>
<li>full outer join: 두 테이블에서 모든 데이터를 가져온다.</li>
</ul>
</li>
<li>cross join</li>
</ul>
<h4>inner join</h4>
<pre><code class="language-sql">CREATE TABLE weather (
	city		varchar(80),
	temp_lo		int,		-- low temperature
	temp_hi		int,		-- high temperature
	prcp		real,		-- precipitation
	date		date
);

CREATE TABLE cities (
	name		varchar(80),
	location	point
);

-- join on
SELECT * FROM weather JOIN cities ON city = name;

SELECT weather.city, weather.temp_lo FROM weather
  JOIN cities ON weather.city = cities.name;

- join 키워드 없이 조인
SELECT * FROM weather, cities WHERE city = name;
</code></pre>
<p><code>weather</code> 테이블과 <code>cities</code> 테이블이 있다. <code>weather</code> 테이블의 정보 중 <code>city</code>
컬럼을 <code>cities</code>의 <code>name</code>과 연관지어 <code>cities</code>의 내용도 쿼리하였다.</p>
<p>위의 예에서는 두 테이블에 겹치는 컬럼이 없지만, 있을 경우 테이블 이름을
접두어로 쓸 수 있다.</p>
<p>left join과 right join은 기준만 다르고 동작은 같다. 하나의 테이블은 온전히
출력하되, 참고하는 테이블에 값이 일치하는 행이 있다면 그 내용을 가져온다.</p>
<pre><code class="language-sql">-- 아래의 두 SELECT의 결과는 column의 순서만 다르고 내용은 같다:

SELECT * FROM weather
  LEFT OUTER JOIN cities ON weather.city = cities.name;

SELECT * FROM cities
  RIGHT OUTER JOIN weather ON weather.city = cities.name;
</code></pre>
<h2>참고</h2>
<ul>
<li>Stephan Schmidt, <a href="https://www.amazingcto.com/postgres-for-everything/">Just Use Postgres for Everything</a>.</li>
<li><a href="https://www.postgresql.kr/docs/13/">PostgreSQL 13.3 문서</a> – 자습서 최신 번역본</li>
<li><a href="https://www.postgresql.org/docs/current/tutorial-arch.html">PostgreSQL Documentation</a></li>
</ul></article></main></div><footer><ul><li><a href="https://github.com/nyeong/hanassig">Repo</a></li><li>안녕 ©️ <a href="https://github.com/nyeong/hanassig/blob/main/LICENSE">CC BY-SA</a></li></ul></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"title":"PostgreSQL","description":"PostgreSQL 기본적인 사용법 정리","date":"2023-03-04T00:00:00.000Z","tags":null,"body":{"raw":"\n[PostgreSQL: The world's most advanced open source database](https://www.postgresql.org/)\n\n## 설치\n\n세 가지 선택지가 있다:\n\n- 직접 빌드한다\n- 컨테이너로 깐다\n- 패키지 매니저로 깐다\n\n### macOS\n\nbrew로 깔고 brew services로 돌린다. 버전명이 붙은 formula이기 때문에 아래처럼 PATH를 등록해주어야 `psql`이나 `createdb`와 같은 명령어를 쓸 수 있다.\n\n```\nbrew install postgresql@15\necho 'export PATH=\"/opt/homebrew/opt/postgresql@15/bin:$PATH\"' \u003e\u003e ~/.zshrc\nbrew services start postgresql@15\n```\n\n## 시작하기\n\nPostgreSQL은 클라이언트/서버 모델 데이터베이스이다. 클라이언트는 PostgreSQL에서\n제공하는 프론트엔드가 될 수도 있고, 사용자가 개발하는 어플리케이션이 될 수도\n있다.\n\nPostgreSQL 서버 프로세스는 새 클라이언트가 접속할 때마다 프로세스를 포크한다.\n\n\u003cfigure\u003e\n  \u003cvideo src=\"/assets/postgresql-forks.webm\" /\u003e\n  \u003cfigcaption\u003e클라이언트가 열고 닫힘에 따라 켜지고 꺼지는 fork 프로세스\u003c/figcaption\u003e\n\u003c/figure\u003e\n\nPostgreSQL 서버는 여러 데이터베이스를 관리할 수 있다.\n\n- `createdb [DB 이름]` -- DB 생성\n- `dropdb [DB 이름]` -- DB 삭제\n- `psql [DB 이름]` -- DB 접속\n\n### psql\n\nSQL이 아닌 명령어는 `\\`으로 시작한다.\n\n- `\\h` -- 도움말.\n- `\\i` -- 파일에서 SQL 읽어오기.\n- `\\d` -- 현재 DB의 모든 객체 나열.\n- `\\d [테이블 이름]` -- 테이블의 구조 확인. `\\d+`는 더 자세한 정보가 나온다.\n- `\\d [함수 이름]` -- 함수의 인자, 반환형 등 확인.\n- `\\dt` -- 현재 DB의 모든 테이블 나열.\n- `\\dt [테이블 이름]` -- 테이블과 관련된 테이블 나열.\n\n## SQL\n\n\u003cfigure\u003e\n  \u003cimg src=\"/assets/table-row-column.png\" /\u003e\n  \u003cfigcaption\u003etable, column, row\u003c/figcaption\u003e\n\u003c/figure\u003e\n\n### 테이블 만들고 지우기\n\n```sql\nCREATE TABLE cities (\n  name       varchar(80),\n  location   point  \n);\n\nDROP TABLE cities;\n```\n\n표준 SQL 타입: `int`, `smallint`, `real`, `double precision`, `char(n)`,\n`varchar(n)`, `date`, `time`, `interval`, ...\n\n`point` 같은 비표준 타입도 있으며, 타입을 새로 만들 수도 있음[^1].\n\n[^1]: https://www.postgresql.org/docs/current/sql-createtype.html\n\n그 외의 자료형은 [문서 참고](https://www.postgresql.org/docs/current/datatype.html)\n\nTODO: 테이블 이름은 복수형이여야 하는가?\nhttps://stackoverflow.com/questions/4702728/relational-table-naming-convention\n\n### 행 삽입하기\n\n- column 순서에 맞게 기입해야함.\n  - 혹은 column 순서를 명시할 수 있음.\n- column은 nullable하다면 생략할 수 있음.\n- 숫자가 아닌 값은 작은따옴표(`'`)로 감싸야함.\n\n```sql\nINSERT INTO cities VALUES ('Seoul', '(37.5642, 127.0016)');\n\nINSERT INTO cities (name, location)\n  VALUES ('Seoul', '(37.5642, 127.0016)');\n```\n\n### 쿼리하기\n\n`SELECT`로 테이블에서 값을 얻어올 수 있음. `*`로 모든 컬럼을 얻어올 수도 있다:\n\n```sql\nSELECT name FROM cities;\n\nSELECT * FROM cities;\n```\n\n가져온 필드로 연산을 할 수도 있다:\n\n```sql\nSELECT city, (temp_hi + temp_lo) / 2 AS temp_avg, FROM weather;\n```\n\n`WHERE`로 가져올 테이블의 조건을 명시하거나, 가져온 데이터를 정렬할 수 있다:\n\n```sql\nSELECT * FROM weather\n  WHERE city = 'Seoul'\n  ORDER BY city;\n```\n\n중복된 행은 빼고 가져올 수 있다:\n\n```sql\nSELECT DISTINCT city FROM weather;\n```\n\n### 조인\n\n여러 테이블의 정보를 연관지어 하나의 결과를 만드는 것을 조인이라고 한다.\n\n- inner join: 두 테이블에서 특정 값이 일치하는 데이터만 찾는다.\n- outer join: 일치하지 않는 데이터도 가져온다.\n  - left outer join: 왼쪽 테이블에 오른쪽 테이블을 결합한다.\n  - rigjt outer join: 왼쪽 테이블을 오른쪽 테이블에 결합한다.\n  - full outer join: 두 테이블에서 모든 데이터를 가져온다.\n- cross join\n\n#### inner join\n\n```sql\nCREATE TABLE weather (\n\tcity\t\tvarchar(80),\n\ttemp_lo\t\tint,\t\t-- low temperature\n\ttemp_hi\t\tint,\t\t-- high temperature\n\tprcp\t\treal,\t\t-- precipitation\n\tdate\t\tdate\n);\n\nCREATE TABLE cities (\n\tname\t\tvarchar(80),\n\tlocation\tpoint\n);\n\n-- join on\nSELECT * FROM weather JOIN cities ON city = name;\n\nSELECT weather.city, weather.temp_lo FROM weather\n  JOIN cities ON weather.city = cities.name;\n\n- join 키워드 없이 조인\nSELECT * FROM weather, cities WHERE city = name;\n```\n\n`weather` 테이블과 `cities` 테이블이 있다. `weather` 테이블의 정보 중 `city`\n컬럼을 `cities`의 `name`과 연관지어 `cities`의 내용도 쿼리하였다.\n\n위의 예에서는 두 테이블에 겹치는 컬럼이 없지만, 있을 경우 테이블 이름을\n접두어로 쓸 수 있다.\n\nleft join과 right join은 기준만 다르고 동작은 같다. 하나의 테이블은 온전히\n출력하되, 참고하는 테이블에 값이 일치하는 행이 있다면 그 내용을 가져온다.\n\n```sql\n-- 아래의 두 SELECT의 결과는 column의 순서만 다르고 내용은 같다:\n\nSELECT * FROM weather\n  LEFT OUTER JOIN cities ON weather.city = cities.name;\n\nSELECT * FROM cities\n  RIGHT OUTER JOIN weather ON weather.city = cities.name;\n```\n\n## 참고\n\n- Stephan Schmidt, [Just Use Postgres for Everything](https://www.amazingcto.com/postgres-for-everything/).\n- [PostgreSQL 13.3 문서](https://www.postgresql.kr/docs/13/) – 자습서 최신 번역본\n- [PostgreSQL Documentation](https://www.postgresql.org/docs/current/tutorial-arch.html)","code":"var Component=(()=\u003e{var a=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var E=(c,e)=\u003e()=\u003e(e||c((e={exports:{}}).exports,e),e.exports),w=(c,e)=\u003e{for(var i in e)l(c,i,{get:e[i],enumerable:!0})},d=(c,e,i,t)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let r of g(e))!u.call(c,r)\u0026\u0026r!==i\u0026\u0026l(c,r,{get:()=\u003ee[r],enumerable:!(t=p(e,r))||t.enumerable});return c};var S=(c,e,i)=\u003e(i=c!=null?a(m(c)):{},d(e||!c||!c.__esModule?l(i,\"default\",{value:c,enumerable:!0}):i,c)),T=c=\u003ed(l({},\"__esModule\",{value:!0}),c);var o=E((N,h)=\u003e{h.exports=_jsx_runtime});var R={};w(R,{default:()=\u003ef,frontmatter:()=\u003eL});var n=S(o()),L={title:\"PostgreSQL\",description:\"PostgreSQL \\uAE30\\uBCF8\\uC801\\uC778 \\uC0AC\\uC6A9\\uBC95 \\uC815\\uB9AC\",date:new Date(1677888e6),tags:null};function s(c){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",ul:\"ul\",li:\"li\",h3:\"h3\",code:\"code\",pre:\"pre\",h4:\"h4\"},c.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.postgresql.org/\",children:\"PostgreSQL: The world's most advanced open source database\"})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\uC124\\uCE58\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC138 \\uAC00\\uC9C0 \\uC120\\uD0DD\\uC9C0\\uAC00 \\uC788\\uB2E4:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\uC9C1\\uC811 \\uBE4C\\uB4DC\\uD55C\\uB2E4\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uCEE8\\uD14C\\uC774\\uB108\\uB85C \\uAE50\\uB2E4\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uD328\\uD0A4\\uC9C0 \\uB9E4\\uB2C8\\uC800\\uB85C \\uAE50\\uB2E4\"}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"macOS\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"brew\\uB85C \\uAE54\\uACE0 brew services\\uB85C \\uB3CC\\uB9B0\\uB2E4. \\uBC84\\uC804\\uBA85\\uC774 \\uBD99\\uC740 formula\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC544\\uB798\\uCC98\\uB7FC PATH\\uB97C \\uB4F1\\uB85D\\uD574\\uC8FC\\uC5B4\\uC57C \",(0,n.jsx)(e.code,{children:\"psql\"}),\"\\uC774\\uB098 \",(0,n.jsx)(e.code,{children:\"createdb\"}),\"\\uC640 \\uAC19\\uC740 \\uBA85\\uB839\\uC5B4\\uB97C \\uC4F8 \\uC218 \\uC788\\uB2E4.\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`brew install postgresql@15\necho 'export PATH=\"/opt/homebrew/opt/postgresql@15/bin:$PATH\"' \u003e\u003e ~/.zshrc\nbrew services start postgresql@15\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\uC2DC\\uC791\\uD558\\uAE30\"}),`\n`,(0,n.jsx)(e.p,{children:`PostgreSQL\\uC740 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8/\\uC11C\\uBC84 \\uBAA8\\uB378 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uC774\\uB2E4. \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB294 PostgreSQL\\uC5D0\\uC11C\n\\uC81C\\uACF5\\uD558\\uB294 \\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC\\uAC00 \\uB420 \\uC218\\uB3C4 \\uC788\\uACE0, \\uC0AC\\uC6A9\\uC790\\uAC00 \\uAC1C\\uBC1C\\uD558\\uB294 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC774 \\uB420 \\uC218\\uB3C4\n\\uC788\\uB2E4.`}),`\n`,(0,n.jsx)(e.p,{children:\"PostgreSQL \\uC11C\\uBC84 \\uD504\\uB85C\\uC138\\uC2A4\\uB294 \\uC0C8 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uAC00 \\uC811\\uC18D\\uD560 \\uB54C\\uB9C8\\uB2E4 \\uD504\\uB85C\\uC138\\uC2A4\\uB97C \\uD3EC\\uD06C\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsxs)(\"figure\",{children:[(0,n.jsx)(\"video\",{src:\"/assets/postgresql-forks.webm\"}),(0,n.jsx)(\"figcaption\",{children:\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uAC00 \\uC5F4\\uACE0 \\uB2EB\\uD798\\uC5D0 \\uB530\\uB77C \\uCF1C\\uC9C0\\uACE0 \\uAEBC\\uC9C0\\uB294 fork \\uD504\\uB85C\\uC138\\uC2A4\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"PostgreSQL \\uC11C\\uBC84\\uB294 \\uC5EC\\uB7EC \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB97C \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"createdb [DB \\uC774\\uB984]\"}),\" -- DB \\uC0DD\\uC131\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"dropdb [DB \\uC774\\uB984]\"}),\" -- DB \\uC0AD\\uC81C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"psql [DB \\uC774\\uB984]\"}),\" -- DB \\uC811\\uC18D\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"psql\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"SQL\\uC774 \\uC544\\uB2CC \\uBA85\\uB839\\uC5B4\\uB294 \",(0,n.jsx)(e.code,{children:\"\\\\\"}),\"\\uC73C\\uB85C \\uC2DC\\uC791\\uD55C\\uB2E4.\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\h\"}),\" -- \\uB3C4\\uC6C0\\uB9D0.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\i\"}),\" -- \\uD30C\\uC77C\\uC5D0\\uC11C SQL \\uC77D\\uC5B4\\uC624\\uAE30.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\d\"}),\" -- \\uD604\\uC7AC DB\\uC758 \\uBAA8\\uB4E0 \\uAC1D\\uCCB4 \\uB098\\uC5F4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\d [\\uD14C\\uC774\\uBE14 \\uC774\\uB984]\"}),\" -- \\uD14C\\uC774\\uBE14\\uC758 \\uAD6C\\uC870 \\uD655\\uC778. \",(0,n.jsx)(e.code,{children:\"\\\\d+\"}),\"\\uB294 \\uB354 \\uC790\\uC138\\uD55C \\uC815\\uBCF4\\uAC00 \\uB098\\uC628\\uB2E4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\d [\\uD568\\uC218 \\uC774\\uB984]\"}),\" -- \\uD568\\uC218\\uC758 \\uC778\\uC790, \\uBC18\\uD658\\uD615 \\uB4F1 \\uD655\\uC778.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\dt\"}),\" -- \\uD604\\uC7AC DB\\uC758 \\uBAA8\\uB4E0 \\uD14C\\uC774\\uBE14 \\uB098\\uC5F4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"\\\\dt [\\uD14C\\uC774\\uBE14 \\uC774\\uB984]\"}),\" -- \\uD14C\\uC774\\uBE14\\uACFC \\uAD00\\uB828\\uB41C \\uD14C\\uC774\\uBE14 \\uB098\\uC5F4.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"SQL\"}),`\n`,(0,n.jsxs)(\"figure\",{children:[(0,n.jsx)(\"img\",{src:\"/assets/table-row-column.png\"}),(0,n.jsx)(\"figcaption\",{children:\"table, column, row\"})]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\uD14C\\uC774\\uBE14 \\uB9CC\\uB4E4\\uACE0 \\uC9C0\\uC6B0\\uAE30\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`CREATE TABLE cities (\n  name       varchar(80),\n  location   point  \n);\n\nDROP TABLE cities;\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\uD45C\\uC900 SQL \\uD0C0\\uC785: \",(0,n.jsx)(e.code,{children:\"int\"}),\", \",(0,n.jsx)(e.code,{children:\"smallint\"}),\", \",(0,n.jsx)(e.code,{children:\"real\"}),\", \",(0,n.jsx)(e.code,{children:\"double precision\"}),\", \",(0,n.jsx)(e.code,{children:\"char(n)\"}),`,\n`,(0,n.jsx)(e.code,{children:\"varchar(n)\"}),\", \",(0,n.jsx)(e.code,{children:\"date\"}),\", \",(0,n.jsx)(e.code,{children:\"time\"}),\", \",(0,n.jsx)(e.code,{children:\"interval\"}),\", ...\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"point\"}),\" \\uAC19\\uC740 \\uBE44\\uD45C\\uC900 \\uD0C0\\uC785\\uB3C4 \\uC788\\uC73C\\uBA70, \\uD0C0\\uC785\\uC744 \\uC0C8\\uB85C \\uB9CC\\uB4E4 \\uC218\\uB3C4 \\uC788\\uC74C\",(0,n.jsx)(e.a,{href:\"https://www.postgresql.org/docs/current/sql-createtype.html\",children:\"^1\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\uADF8 \\uC678\\uC758 \\uC790\\uB8CC\\uD615\\uC740 \",(0,n.jsx)(e.a,{href:\"https://www.postgresql.org/docs/current/datatype.html\",children:\"\\uBB38\\uC11C \\uCC38\\uACE0\"})]}),`\n`,(0,n.jsx)(e.p,{children:`TODO: \\uD14C\\uC774\\uBE14 \\uC774\\uB984\\uC740 \\uBCF5\\uC218\\uD615\\uC774\\uC5EC\\uC57C \\uD558\\uB294\\uAC00?\nhttps://stackoverflow.com/questions/4702728/relational-table-naming-convention`}),`\n`,(0,n.jsx)(e.h3,{children:\"\\uD589 \\uC0BD\\uC785\\uD558\\uAE30\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"column \\uC21C\\uC11C\\uC5D0 \\uB9DE\\uAC8C \\uAE30\\uC785\\uD574\\uC57C\\uD568.\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\uD639\\uC740 column \\uC21C\\uC11C\\uB97C \\uBA85\\uC2DC\\uD560 \\uC218 \\uC788\\uC74C.\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.li,{children:\"column\\uC740 nullable\\uD558\\uB2E4\\uBA74 \\uC0DD\\uB7B5\\uD560 \\uC218 \\uC788\\uC74C.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\uC22B\\uC790\\uAC00 \\uC544\\uB2CC \\uAC12\\uC740 \\uC791\\uC740\\uB530\\uC634\\uD45C(\",(0,n.jsx)(e.code,{children:\"'\"}),\")\\uB85C \\uAC10\\uC2F8\\uC57C\\uD568.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`INSERT INTO cities VALUES ('Seoul', '(37.5642, 127.0016)');\n\nINSERT INTO cities (name, location)\n  VALUES ('Seoul', '(37.5642, 127.0016)');\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\uCFFC\\uB9AC\\uD558\\uAE30\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"SELECT\"}),\"\\uB85C \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uAC12\\uC744 \\uC5BB\\uC5B4\\uC62C \\uC218 \\uC788\\uC74C. \",(0,n.jsx)(e.code,{children:\"*\"}),\"\\uB85C \\uBAA8\\uB4E0 \\uCEEC\\uB7FC\\uC744 \\uC5BB\\uC5B4\\uC62C \\uC218\\uB3C4 \\uC788\\uB2E4:\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`SELECT name FROM cities;\n\nSELECT * FROM cities;\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uAC00\\uC838\\uC628 \\uD544\\uB4DC\\uB85C \\uC5F0\\uC0B0\\uC744 \\uD560 \\uC218\\uB3C4 \\uC788\\uB2E4:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`SELECT city, (temp_hi + temp_lo) / 2 AS temp_avg, FROM weather;\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"WHERE\"}),\"\\uB85C \\uAC00\\uC838\\uC62C \\uD14C\\uC774\\uBE14\\uC758 \\uC870\\uAC74\\uC744 \\uBA85\\uC2DC\\uD558\\uAC70\\uB098, \\uAC00\\uC838\\uC628 \\uB370\\uC774\\uD130\\uB97C \\uC815\\uB82C\\uD560 \\uC218 \\uC788\\uB2E4:\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`SELECT * FROM weather\n  WHERE city = 'Seoul'\n  ORDER BY city;\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC911\\uBCF5\\uB41C \\uD589\\uC740 \\uBE7C\\uACE0 \\uAC00\\uC838\\uC62C \\uC218 \\uC788\\uB2E4:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`SELECT DISTINCT city FROM weather;\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\uC870\\uC778\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC5EC\\uB7EC \\uD14C\\uC774\\uBE14\\uC758 \\uC815\\uBCF4\\uB97C \\uC5F0\\uAD00\\uC9C0\\uC5B4 \\uD558\\uB098\\uC758 \\uACB0\\uACFC\\uB97C \\uB9CC\\uB4DC\\uB294 \\uAC83\\uC744 \\uC870\\uC778\\uC774\\uB77C\\uACE0 \\uD55C\\uB2E4.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"inner join: \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uD2B9\\uC815 \\uAC12\\uC774 \\uC77C\\uCE58\\uD558\\uB294 \\uB370\\uC774\\uD130\\uB9CC \\uCC3E\\uB294\\uB2E4.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"outer join: \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uB294 \\uB370\\uC774\\uD130\\uB3C4 \\uAC00\\uC838\\uC628\\uB2E4.\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"left outer join: \\uC67C\\uCABD \\uD14C\\uC774\\uBE14\\uC5D0 \\uC624\\uB978\\uCABD \\uD14C\\uC774\\uBE14\\uC744 \\uACB0\\uD569\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"rigjt outer join: \\uC67C\\uCABD \\uD14C\\uC774\\uBE14\\uC744 \\uC624\\uB978\\uCABD \\uD14C\\uC774\\uBE14\\uC5D0 \\uACB0\\uD569\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"full outer join: \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uBAA8\\uB4E0 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC628\\uB2E4.\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.li,{children:\"cross join\"}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{children:\"inner join\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`CREATE TABLE weather (\n\tcity\t\tvarchar(80),\n\ttemp_lo\t\tint,\t\t-- low temperature\n\ttemp_hi\t\tint,\t\t-- high temperature\n\tprcp\t\treal,\t\t-- precipitation\n\tdate\t\tdate\n);\n\nCREATE TABLE cities (\n\tname\t\tvarchar(80),\n\tlocation\tpoint\n);\n\n-- join on\nSELECT * FROM weather JOIN cities ON city = name;\n\nSELECT weather.city, weather.temp_lo FROM weather\n  JOIN cities ON weather.city = cities.name;\n\n- join \\uD0A4\\uC6CC\\uB4DC \\uC5C6\\uC774 \\uC870\\uC778\nSELECT * FROM weather, cities WHERE city = name;\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"weather\"}),\" \\uD14C\\uC774\\uBE14\\uACFC \",(0,n.jsx)(e.code,{children:\"cities\"}),\" \\uD14C\\uC774\\uBE14\\uC774 \\uC788\\uB2E4. \",(0,n.jsx)(e.code,{children:\"weather\"}),\" \\uD14C\\uC774\\uBE14\\uC758 \\uC815\\uBCF4 \\uC911 \",(0,n.jsx)(e.code,{children:\"city\"}),`\n\\uCEEC\\uB7FC\\uC744 `,(0,n.jsx)(e.code,{children:\"cities\"}),\"\\uC758 \",(0,n.jsx)(e.code,{children:\"name\"}),\"\\uACFC \\uC5F0\\uAD00\\uC9C0\\uC5B4 \",(0,n.jsx)(e.code,{children:\"cities\"}),\"\\uC758 \\uB0B4\\uC6A9\\uB3C4 \\uCFFC\\uB9AC\\uD558\\uC600\\uB2E4.\"]}),`\n`,(0,n.jsx)(e.p,{children:`\\uC704\\uC758 \\uC608\\uC5D0\\uC11C\\uB294 \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0 \\uACB9\\uCE58\\uB294 \\uCEEC\\uB7FC\\uC774 \\uC5C6\\uC9C0\\uB9CC, \\uC788\\uC744 \\uACBD\\uC6B0 \\uD14C\\uC774\\uBE14 \\uC774\\uB984\\uC744\n\\uC811\\uB450\\uC5B4\\uB85C \\uC4F8 \\uC218 \\uC788\\uB2E4.`}),`\n`,(0,n.jsx)(e.p,{children:`left join\\uACFC right join\\uC740 \\uAE30\\uC900\\uB9CC \\uB2E4\\uB974\\uACE0 \\uB3D9\\uC791\\uC740 \\uAC19\\uB2E4. \\uD558\\uB098\\uC758 \\uD14C\\uC774\\uBE14\\uC740 \\uC628\\uC804\\uD788\n\\uCD9C\\uB825\\uD558\\uB418, \\uCC38\\uACE0\\uD558\\uB294 \\uD14C\\uC774\\uBE14\\uC5D0 \\uAC12\\uC774 \\uC77C\\uCE58\\uD558\\uB294 \\uD589\\uC774 \\uC788\\uB2E4\\uBA74 \\uADF8 \\uB0B4\\uC6A9\\uC744 \\uAC00\\uC838\\uC628\\uB2E4.`}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sql\",children:`-- \\uC544\\uB798\\uC758 \\uB450 SELECT\\uC758 \\uACB0\\uACFC\\uB294 column\\uC758 \\uC21C\\uC11C\\uB9CC \\uB2E4\\uB974\\uACE0 \\uB0B4\\uC6A9\\uC740 \\uAC19\\uB2E4:\n\nSELECT * FROM weather\n  LEFT OUTER JOIN cities ON weather.city = cities.name;\n\nSELECT * FROM cities\n  RIGHT OUTER JOIN weather ON weather.city = cities.name;\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\uCC38\\uACE0\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Stephan Schmidt, \",(0,n.jsx)(e.a,{href:\"https://www.amazingcto.com/postgres-for-everything/\",children:\"Just Use Postgres for Everything\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.postgresql.kr/docs/13/\",children:\"PostgreSQL 13.3 \\uBB38\\uC11C\"}),\" \\u2013 \\uC790\\uC2B5\\uC11C \\uCD5C\\uC2E0 \\uBC88\\uC5ED\\uBCF8\"]}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.postgresql.org/docs/current/tutorial-arch.html\",children:\"PostgreSQL Documentation\"})}),`\n`]})]})}function O(c={}){let{wrapper:e}=c.components||{};return e?(0,n.jsx)(e,Object.assign({},c,{children:(0,n.jsx)(s,c)})):s(c)}var f=O;return T(R);})();\n;return Component;"},"_id":"postgresql.md","_raw":{"sourceFilePath":"postgresql.md","sourceFileName":"postgresql.md","sourceFileDir":".","contentType":"markdown","flattenedPath":"postgresql"},"type":"Note","slug":"postgresql"}},"__N_SSG":true},"page":"/n/[[...slug]]","query":{"slug":["postgresql"]},"buildId":"GlTOjBOhO6xWONgruXGi2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>